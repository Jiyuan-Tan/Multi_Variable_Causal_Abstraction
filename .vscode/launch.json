{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Debug run_das.py (Full Dataset)",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/Entity_Binding/hypothesis_testing/run_das.py",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}/Entity_Binding",
            "args": [
                "--model", "Qwen/Qwen3-8B",
                "--size", "1024",
                "--batch-size", "16",
                "--num-groups", "10",
                "--gpu", "0",
                "--min-accuracy", "0.75",
                "--output", "hypothesis_testing/outputs/debug_small"
            ],
            "justMyCode": false,
            "env": {
                "PYTHONPATH": "bin/python3.8",
            },
        },
        {
            "name": "Debug test_alignment.py (Full Dataset)",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/Entity_Binding/hypothesis_testing/test_alignment.py",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}/Entity_Binding",
            "args": [
                "--test-size", "512",
                "--batch-size", "16",
                "--gpu", "1",
                "--result-path", "hypothesis_testing/outputs/google_gemma-2-2b-it/vanilla_interchange_result.pkl",
                "--layer", "15", // 23 for qwen3-8b, 15 fo Gemma2-2b-it, 23 for qwen3-4b-it
                "--use-swap",
                "--task-type", "filling_liquids",
                "--output", "hypothesis_testing/outputs/debug_small",
                // "--skip-filtering",
            ],
            "justMyCode": false,
            "env": {
                "PYTHONPATH": "bin/python3.8",
            },
        },
        {
            "name": "Debug analyze_sae_features.py (Full Dataset)",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/Entity_Binding/hypothesis_testing/analyze_sae_features.py",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}/Entity_Binding",
            "args": [
                "--dataset-path", "hypothesis_testing/partition_results/filtered_input_samples_filling_liquids_15_10_512_google_gemma-2-2b-it.pkl",
                "--partition-results-path", "hypothesis_testing/partition_results/partition_results_filling_liquids_15_10_512_google_gemma-2-2b-it.json",
                "--layer", "15",
                "--model", "google/gemma-2-2b-it",
                "--gpu", "0",
                "--save-classifier", "hypothesis_testing/partition_results/PCA_results/pca_analysis_layer_15.pkl",
                "--classifier-mode", "pca-l1",
                "--pca-n-components", "10",
                "--full-l1-C", "0.01",
                "--output", "hypothesis_testing/partition_results/PCA_results/pca_analysis_layer_15.json"
            ],
            "justMyCode": false,
            "subProcess": false,
            "env": {
                "PYTHONPATH": "bin/python3.8",
                "TOKENIZERS_PARALLELISM": "false"
            },
        },
        {
            "name": "Debug test_sae_classifier.py (PCA)",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/Entity_Binding/hypothesis_testing/test_sae_classifier.py",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "args": [
                "--classifier-path", "Entity_Binding/hypothesis_testing/partition_results/PCA_results/pca_analysis_layer_15.pkl",
                "--task", "filling_liquids",
                "--layer", "15",
                "--model", "google/gemma-2-2b-it",
                "--gpu", "0",
                "--num-groups", "10",
                "--filtered-dataset-path", "Entity_Binding/hypothesis_testing/classifier_filter_results/filtered_dataset_filling_liquids_15_10_200_google_gemma-2-2b-it.pkl",
                "--graph-path", "Entity_Binding/hypothesis_testing/classifier_filter_results/graph_whole_filling_liquids_15_10_200_google_gemma-2-2b-it.pkl",
                "--output-dir", "Entity_Binding/hypothesis_testing/partition_results/PCA_results",
            ],
            "justMyCode": false,
            "subProcess": false,
            "env": {
                "PYTHONPATH": "bin/python3.8",
                "TOKENIZERS_PARALLELISM": "false"
            },
        }
    ]
}